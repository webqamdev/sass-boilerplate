// # Arrow shape polygon

@use "strip-unit" as *;

// Create arrow shape with the polygon function.
// Usage example :
// ```scss
// @use "functions/arrow-shape-polygon" as *;
//
// .element {
//   clip-path: arrow-shape-polygon(10px, 10px);
// }
// ```

// Please update, add or remove the styles below to match the project needs.

@function arrow-shape-polygon($arrow-width, $arrow-height, $useEm: false) {
  $arrow-width: strip-unit($arrow-width);
  $arrow-height: strip-unit($arrow-height);

  @if ($useEm) {
    $arrow-width: $arrow-width * 1em;
    $arrow-height: $arrow-height * 1em;
  } @else {
    $arrow-width: $arrow-width * 1px;
    $arrow-height: $arrow-height * 1px;
  }

  // Add `1px` to fix rendering issues in several browsers
  $bottom-offset-y: unquote("calc(100% - #{$arrow-height} + 1px)");

  @return polygon(
    0 0,
    100% 0,
    100% $bottom-offset-y,
    unquote("calc(50% - #{$arrow-width * 0.5})") $bottom-offset-y,
    50% 100%,
    unquote("calc(50% + #{$arrow-width * 0.5})") $bottom-offset-y,
    0 $bottom-offset-y
  );
}
