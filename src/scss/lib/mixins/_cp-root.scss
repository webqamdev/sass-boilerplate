// # Custom property - root mixin

@use "../variables/cp";
@use "cp-set" as *;

// Generate global scoped custom properties from a key-value list
// /!\ Muse not be used in the lib folder to avoid massive code duplication /!\
// Usage example :
// ```scss
// @use "mixins/cp-root" as *;
// @use "function/cp-get" as *;
//
// @include cp-root((
//   element-background-color: #000000,
// ));
//
// .random-element {
//   background-color: cp-get(element-background-color);
// }
//
// @include cp-root(
//   (
//     button-background-color: #000000,
//   ),
//	 'custom-prefix'
// );
//
// .button {
//   background-color: cp-get(button-background-color, 'custom-prefix');
// }
// ```

@mixin cp-root($css_variables, $prefix: cp.$primary-theme-prefix) {
  @if ($css_variables) {
    :root {
      @each $custom-property-name, $value in $css_variables {
        @include cp-set($custom-property-name, $value, $prefix);
      }
    }
  }
}
